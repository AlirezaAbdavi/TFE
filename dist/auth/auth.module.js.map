{"version":3,"sources":["../../src/auth/auth.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\r\nimport { ConfigModule, ConfigService } from '@nestjs/config'; // ایمپورت\r\nimport { JwtModule } from '@nestjs/jwt';\r\nimport { PassportModule } from '@nestjs/passport';\r\nimport { UsersModule } from '../users/users.module'; // مسیر را چک کنید\r\nimport { AuthService } from './auth.service';\r\nimport { AuthController } from './auth.controller';\r\nimport { JwtStrategy } from './jwt.strategy';\r\n// ... بقیه ایمپورت‌ها\r\n\r\n@Module({\r\n  imports: [\r\n    UsersModule,\r\n    PassportModule,\r\n    // تغییر به روش Async برای خواندن کلید از کانفیگ\r\n    JwtModule.registerAsync({\r\n      imports: [ConfigModule],\r\n      useFactory: async (configService: ConfigService) => ({\r\n        global: true,\r\n        secret: configService.get<string>('JWT_SECRET'), // کلید مخفی\r\n        signOptions: { expiresIn: '1h' },\r\n      }),\r\n      inject: [ConfigService],\r\n    }),\r\n  ],\r\n  controllers: [AuthController],\r\n  providers: [AuthService, JwtStrategy],\r\n})\r\nexport class AuthModule {}\r\n"],"names":["AuthModule","imports","UsersModule","PassportModule","JwtModule","registerAsync","ConfigModule","useFactory","configService","global","secret","get","signOptions","expiresIn","inject","ConfigService","controllers","AuthController","providers","AuthService","JwtStrategy"],"mappings":";;;;+BA4BaA;;;eAAAA;;;wBA5BU;wBACqB;qBAClB;0BACK;6BACH;6BACA;gCACG;6BACH;;;;;;;AAqBrB,IAAA,AAAMA,aAAN,MAAMA;AAAY;;;QAjBvBC,SAAS;YACPC,wBAAW;YACXC,wBAAc;YACd,gDAAgD;YAChDC,cAAS,CAACC,aAAa,CAAC;gBACtBJ,SAAS;oBAACK,oBAAY;iBAAC;gBACvBC,YAAY,OAAOC,gBAAkC,CAAA;wBACnDC,QAAQ;wBACRC,QAAQF,cAAcG,GAAG,CAAS;wBAClCC,aAAa;4BAAEC,WAAW;wBAAK;oBACjC,CAAA;gBACAC,QAAQ;oBAACC,qBAAa;iBAAC;YACzB;SACD;QACDC,aAAa;YAACC,8BAAc;SAAC;QAC7BC,WAAW;YAACC,wBAAW;YAAEC,wBAAW;SAAC"}